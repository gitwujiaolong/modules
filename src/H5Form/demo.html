<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title></title>
<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.2/css/bootstrap.min.css">
<link rel="stylesheet" href="H5Form.css">

</head>
<body>
	<div style="margin-top:20px;">
		<h1>type属性，支持的type有：email、url、number、cellphone、integer</h1>
		<form id="form-type" data-role="H5Form">
			<div class="form-group inline">
				<label class="control-label">email</label>
				<input type="email" class="form-control" name="emial" placeholder="email" data-msg='{"email":"emial格式错了啦"}'>
			</div>
			<div class="form-group inline">
				<label class="control-label">url</label>
				<input type="url" class="form-control" name="url" placeholder="url">
			</div>
			<div class="form-group inline">
				<label class="control-label">number</label>
				<input type="number" class="form-control" name="number" placeholder="number">
			</div>
			<div class="form-group inline">
				<label class="control-label">cellphone</label>
				<input type="cellphone" class="form-control" name="cellphone" placeholder="cellphone"  data-msg='{"cellphone":"亲，只支持中国的手机号，别输外星球的"}'>
			</div>
			<div class="form-group inline">
				<label class="control-label">integer</label>
				<input type="integer" class="form-control" name="integer" placeholder="integer">
			</div>
			<div class="from-group">
				<button class="submit">提交</button>
			</div>
		</form>

		<!--<h1>Form属性</h1>-->
		<!--<form id="form-attr" data-role="H5Form" method="POST" action="http://192.168.0.199:8866/toomao_api/shop/20" data-proxy="http://localhost:8080/abc">-->
			<!--<div class="form-group inline">-->
				<!--<label class="control-label">test</label>-->
				<!--<input type="text" class="form-control" name="test" value="test-v">-->
			<!--</div>-->
			<!--<div class="from-group">-->
				<!--<button class="submit">提交</button>-->
			<!--</div>-->
		<!--</form>-->
		<h1>input属性，包括required、pattern、data-msg、data-equalto、data-func, minlength, maxlength</h1>
    <p>其中，msg字段有：email，number，cellphone，integer，url，required，pattern，equalto，fun, minlength, maxlength</p>
    <p>data-func可以通过validator.extend(name, function(){})进行扩展，并在data-msg中设置相应的msg消息</p>
		<form id="form-input" data-role="H5Form">
			<div class="form-group inline">
				<label class="control-label">必填字段</label>
				<input type="text" class="form-control" name="must" placeholder="必填" value="1" required>
			</div>
			<div class="form-group inline">
				<label class="control-label">正则</label>
				<input type="text" class="form-control" name="reg" placeholder="6个字符" value="123456" pattern="^[0-9]{6}$">
			</div>
			<div class="form-group inline">
				<label class="control-label">消息</label>
				<input type="text" class="form-control" name="data-msg" placeholder="错误消息" value="15200000000" data-msg='{"pattern":"手机"}' pattern="^[1][3,4,5,7,8][0-9]{9}$">
			</div>

			<div class="form-group inline">
				<label class="control-label">密码</label>
				<input id="len-1" type="text" class="form-control" name="pwd-1" value="123456" required minlength="6" maxlength="10">
			</div>

			<div class="form-group inline">
				<label class="control-label">密码2</label>
				<input id="len-2" type="text" class="form-control" name="pwd-2" value="123456" data-msg-err="请输入与密码相同" data-equalto="#len-1">
			</div>
			<div class="form-group inline">
				<label class="control-label">验证码</label>
				<div class="row">
					<div class="col-xs-8">
						<input type="text" class="form-control" name="check" value="123" placeholder="自定义 输入123" data-func="checkcode" data-msg='{"checkcode":"验证码输123"}'>
					</div>
					<div class="col-xs-4">
						<button type="button" class="form-control">获取</button>
					</div>
				</div>
			</div>
			<div class="from-group">
				<button class="submit">提交</button>
			</div>
		</form>

	</div>

	<script src="http://cdn.bootcss.com/require.js/2.1.15/require.min.js"></script>
	<script>
	require.config({
		baseUrl: '../',
		paths: {
			jquery: 'http://cdn.bootcss.com/jquery/2.1.3/jquery.min',
			alertMsg: 'alertMsg/alertMsg',
			formValidator: 'H5Form/formValidator',
			formSubmit: "H5Form/formSubmit"
		}
	});

	require(['jquery', 'formValidator'], function ($, validator) {
		validator.extend("checkcode", function(ele, msg){
			if ($(ele).val() == "123")
				return "";
			return msg.checkcode;
		});

		$("form").submit(function(e){
      e.preventDefault();

      var msg = validator.validForm($(this)[0]);
      if (msg !== "")
        $.alertMsg(msg);
      else
        $.alertMsg('ok')
//			$(this).parents("form").formSubmit({
//				success:function(d){
//					console.log(d);
//				}
//			});

		});
	});

	var a = "abc";
	</script>
</body>
</html>
